#!/usr/bin/env python3
"""
Test script to verify meaning extraction functionality
"""

import requests
import json

def test_meaning_extraction():
    """Test the meaning extraction with various Tamil texts"""
    
    test_cases = [
        "ро╡рогроХрпНроХроорпН роирогрпНрокро░рпНроХро│рпЗ",
        "роиройрпНро▒ро┐ ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН",
        "роХрпБроЯрпБроорпНрокроорпН рооро┐роХро╡рпБроорпН роорпБроХрпНроХро┐ропроорпН",
        "роЗройрпНро▒рпБ роиро▓рпНро▓ роиро╛ро│рпН",
        "роЕройрпНрокрпБ роОройрпНрокродрпБ роЙропро░рпНроирпНрод роЙрогро░рпНро╡рпБ"
    ]
    
    for text in test_cases:
        print(f"\nЁЯФН Testing: {text}")
        print("-" * 50)
        
        try:
            # API call
            response = requests.post(
                'http://localhost:5000/api/analyze',
                json={'text': text},
                headers={'Content-Type': 'application/json'}
            )
            
            if response.status_code == 200:
                data = response.json()
                semantic = data.get('semantic_analysis', {})
                meaning = semantic.get('meaning', 'No meaning found')
                
                print(f"тЬЕ Status: Success")
                print(f"ЁЯУЭ Text: {text}")
                print(f"ЁЯФд Word Count: {semantic.get('word_count', 0)}")
                print(f"ЁЯП╖я╕П Language: {semantic.get('language_detected', 'unknown')}")
                print(f"ЁЯТб Meaning: {meaning}")
                print(f"тП▒я╕П Time: {data.get('processing_time', 'unknown')}")
            else:
                print(f"тЭМ API Error: {response.status_code}")
                
        except Exception as e:
            print(f"тЭМ Error: {e}")

if __name__ == "__main__":
    print("ЁЯЪА Testing Tamil Text Meaning Extraction")
    print("=" * 60)
    test_meaning_extraction()
    print("\nтЬЕ Testing completed!")